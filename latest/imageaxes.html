<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>ImageAxes.jl · JuliaImages</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.5.0/styles/default.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Ubuntu+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="assets/documenter.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="../versions.js"></script></head><body><nav class="toc"><h1>JuliaImages</h1><form class="search" action="search.html"><select id="version-selector" onChange="window.location.href=this.value"><option value="#" selected="selected" disabled="disabled">Version</option></select><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="index.html">Home</a></li><li><a class="toctext" href="install.html">Getting started: Installation and testing your install</a></li><li><a class="toctext" href="quickstart.html">Quickstart</a></li><li><a class="toctext" href="arrays_colors.html">Arrays, Numbers, and Colors</a></li><li><a class="toctext" href="conversions_views.html">Conversions vs. views</a></li><li><a class="toctext" href="indexing.html">Arrays: more advanced indexing</a></li><li class="current"><a class="toctext" href="imageaxes.html">ImageAxes.jl</a><ul class="internal"><li><a class="toctext" href="#Installation-1">Installation</a></li><li><a class="toctext" href="#Usage-1">Usage</a></li></ul></li><li><a class="toctext" href="imagefiltering.html">ImageFiltering.jl</a></li><li><a class="toctext" href="imagemetadata.html">ImageMetadata.jl</a></li><li><a class="toctext" href="troubleshooting.html">Installation troubleshooting</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href="imageaxes.html">ImageAxes.jl</a></li></ul><a class="edit-page" href="https://github.com/JuliaImages/juliaimages.github.io/tree/44e0da5a072a26cee68aae80a0a4af9eb3cb8e43/docs/src/imageaxes.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/></header><h1><a class="nav-anchor" id="ImageAxes.jl-1" href="#ImageAxes.jl-1">ImageAxes.jl</a></h1><p>While images can often be represented as plain <code>Array</code>s, sometimes additional information about the &quot;meaning&quot; of each axis of the array is needed.  For example, in a 3-dimensional MRI scan, the voxels may not have the same spacing along the z-axis that they do along the x- and y-axes, and this fact should be accounted for during the display and/or analysis of such images.  Likewise, a movie has two spatial axes and one temporal axis; this fact may be relevant for how one performs image processing.</p><p>The ImageAxes package (which is incorporated into Images) combines features from <a href="https://github.com/mbauman/AxisArrays.jl">AxisArrays</a> and <a href="https://github.com/mauro3/SimpleTraits.jl">SimpleTraits</a> to provide a convenient representation and programming paradigm for dealing with such images.</p><h2><a class="nav-anchor" id="Installation-1" href="#Installation-1">Installation</a></h2><p>If you&#39;ve installed the <code>Images</code> packages, <code>ImageAxes</code> should already be installed for you. If not, add it with</p><pre><code class="language-jl">Pkg.add(&quot;ImageAxes&quot;)</code></pre><h2><a class="nav-anchor" id="Usage-1" href="#Usage-1">Usage</a></h2><h3><a class="nav-anchor" id="Names-and-locations-1" href="#Names-and-locations-1">Names and locations</a></h3><p>The simplest thing you can do is to provide names to your image axes:</p><pre><code class="language-">using ImageAxes
img = AxisArray(reshape(1:192, (8,8,3)), :x, :y, :z)</code></pre><p>As described in more detail in the <a href="https://github.com/mbauman/AxisArrays.jl">AxisArrays documentation</a>, you can now take slices like this:</p><pre><code class="language-">sl = img[Axis{:z}(2)]</code></pre><p>You can also give units to the axes:</p><pre><code class="language-">using ImageAxes, Unitful
const mm = u&quot;mm&quot;
img = AxisArray(reshape(1:192, (8,8,3)),
                Axis{:x}(1mm:1mm:8mm),
                Axis{:y}(1mm:1mm:8mm),
                Axis{:z}(2mm:3mm:8mm))</code></pre><p>which specifies that <code>x</code> and <code>y</code> have spacing of 1mm and <code>z</code> has a spacing of 3mm, as well as the location of the center of each voxel.</p><h3><a class="nav-anchor" id="Temporal-axes-1" href="#Temporal-axes-1">Temporal axes</a></h3><p>Any array possessing an axis <code>Axis{:time}</code> will be recognized as having a temporal dimension.  Given an array <code>A</code>,</p><pre><code class="language-">using ImageAxes, Unitful
const s = u&quot;s&quot;
img = AxisArray(reshape(1:9*300, (3,3,300)),
                Axis{:x}(1:3),
                Axis{:y}(1:3),
                Axis{:time}(1s/30:1s/30:10s))</code></pre><p>you can retrieve its temporal axis with</p><pre><code class="language-">ax = timeaxis(img)</code></pre><p>and index it like</p><pre><code class="language-">img[ax(4)]  # returns the 4th &quot;timeslice&quot;</code></pre><p>You can also specialize methods like this:</p><pre><code class="language-">using ImageAxes, SimpleTraits
@traitfn nimages{AA&lt;:AxisArray;  HasTimeAxis{AA}}(img::AA) = length(timeaxis(img))
@traitfn nimages{AA&lt;:AxisArray; !HasTimeAxis{AA}}(img::AA) = 1</code></pre><p>where the pre-defined <code>HasTimeAxis</code> trait will restrict that method to arrays that have a timeaxis. A more complex example is</p><pre><code class="language-julia">using ImageAxes, SimpleTraits
@traitfn meanintensity{AA&lt;:AxisArray; !HasTimeAxis{AA}}(img::AA) = mean(img)
@traitfn function meanintensity{AA&lt;:AxisArray; HasTimeAxis{AA}}(img::AA)
    ax = timeaxis(img)
    n = length(x)
    intensity = zeros(eltype(img), n)
    for ti = 1:n
        sl = img[ax[ti]]  # the image slice at time ax[ti]
        intensity[ti] = mean(sl)
    end
    intensity
end</code></pre><p>and, when appropriate, it will return the mean intensity at each timeslice.</p><h4><a class="nav-anchor" id="Custom-temporal-axes-1" href="#Custom-temporal-axes-1">Custom temporal axes</a></h4><p>Using <code>SimpleTraits</code>&#39;s <code>@traitimpl</code>, you can add <code>Axis{:t}</code> or <code>Axis{:scantime}</code> or any other name to the list of axes that have a temporal dimension:</p><pre><code class="language-">using ImageAxes, SimpleTraits
@traitimpl TimeAxis{Axis{:t}}</code></pre><p>Note this declaration affects all arrays throughout your entire session.  Moreover, it should be made before calling any functions on array-types that possess such axes; a convenient place to do this is right after you say <code>using ImageAxes</code> in your top-level script.</p><footer><hr/><a class="previous" href="indexing.html"><span class="direction">Previous</span><span class="title">Arrays: more advanced indexing</span></a><a class="next" href="imagefiltering.html"><span class="direction">Next</span><span class="title">ImageFiltering.jl</span></a></footer></article></body></html>
